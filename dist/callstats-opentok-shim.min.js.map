{"version":3,"sources":["callstats-opentok-shim-es5.js"],"names":["CallstatsOpenTok","reportError","pc","fnName","callstatsConn","webRtcFunc","webRTCFunctions","sessionId","wrapError","failure","err","noop","connections","Map","idGenerator","d","Date","getTime","replace","c","r","Math","random","toString","onConnection","origPeerConnection","window","RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","newPeerConnection","config","constraints","uuid","kind","undefined","capableSimulcastStreams","set","peerConnection","usage","fabricUsage","multiplex","addNewFabric","msg","console","log","warn","origGetStats","getStats","bind","success","res","origCreateOffer","createOffer","_len","arguments","length","args","Array","_key","apply","catch","ex","_constraints","origCreateAnswer","createAnswer","_len2","_key2","_constraints2","origSetLocalDescription","setLocalDescription","sdp","failureWrap","origSetRemoteDescription","setRemoteDescription","origAddIceCandidate","addIceCandidate","candidate","onsignalingstatechange","event","signalingState","delete","forEach","obj","hasOwnProperty","Object","keys","x","prototype","initialize","params","connId","IdGenerator","AppId","AppSecret","SessionId","OnConnection","Id","info","callstats","error","getConnections","copy","v","k"],"mappings":"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","file":"callstats-opentok-shim.min.js"}