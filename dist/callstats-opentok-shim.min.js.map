{"version":3,"sources":["callstats-opentok-shim-es5.js"],"names":["CallstatsOpenTok","isPCTPc","pcConfig","iceServers","len","length","i","username","includes","isShortCall","constraints","reportError","pc","fnName","callstatsConn","webRtcFunc","webRTCFunctions","sessionId","wrapError","failure","err","connections","Map","idGenerator","d","Date","getTime","replace","c","r","Math","random","toString","onConnection","origPeerConnection","window","RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","newPeerConnection","config","uuid","kind","undefined","capableSimulcastStreams","set","peerConnection","usage","fabricUsage","multiplex","addNewFabric","msg","console","log","warn","origGetStats","getStats","bind","_len","arguments","args","Array","_key","apply","catch","ex","success","res","origCreateOffer","createOffer","_len2","_key2","_constraints","failureWrap","origCreateAnswer","createAnswer","_len3","_key3","_constraints2","origSetLocalDescription","setLocalDescription","_len4","_key4","sdp","origSetRemoteDescription","setRemoteDescription","_len5","_key5","origAddIceCandidate","addIceCandidate","_len6","_key6","candidate","onsignalingstatechange","event","signalingState","delete","forEach","obj","hasOwnProperty","Object","keys","x","prototype","initialize","params","connId","statsCallback","initCallback","configParams","IdGenerator","AppId","AppSecret","SessionId","OnConnection","Id","info","InitCallback","StatsCallback","ConfigParams","callstats","error","getConnections","copy","v","k"],"mappings":"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","file":"callstats-opentok-shim.min.js"}