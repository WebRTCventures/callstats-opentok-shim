{"version":3,"sources":["callstats-opentok-shim-es5.js"],"names":["CallstatsOpenTok","reportError","pc","fnName","callstatsConn","webRtcFunc","webRTCFunctions","sessionId","wrapError","failure","err","connections","Map","idGenerator","d","Date","getTime","replace","c","r","Math","random","toString","onConnection","origPeerConnection","window","RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","newPeerConnection","config","constraints","uuid","kind","undefined","capableSimulcastStreams","set","peerConnection","usage","fabricUsage","multiplex","addNewFabric","msg","console","log","warn","origGetStats","getStats","bind","_len","arguments","length","args","Array","_key","apply","catch","ex","success","res","origCreateOffer","createOffer","_len2","_key2","_constraints","failureWrap","origCreateAnswer","createAnswer","_len3","_key3","_constraints2","origSetLocalDescription","setLocalDescription","_len4","_key4","sdp","origSetRemoteDescription","setRemoteDescription","_len5","_key5","origAddIceCandidate","addIceCandidate","_len6","_key6","candidate","onsignalingstatechange","event","signalingState","delete","forEach","obj","hasOwnProperty","Object","keys","x","prototype","initialize","params","connId","statsCallback","initCallback","configParams","IdGenerator","AppId","AppSecret","SessionId","OnConnection","Id","info","InitCallback","StatsCallback","ConfigParams","callstats","error","getConnections","copy","v","k"],"mappings":"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","file":"callstats-opentok-shim.min.js"}